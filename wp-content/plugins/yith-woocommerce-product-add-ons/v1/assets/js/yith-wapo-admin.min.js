jQuery(document).ready(function(i){"use strict";if("undefined"==typeof yith_wapo_general)return!1;var t;t={message:null,overlayCSS:{background:"#fff",opacity:.6}},"function"==typeof i().select2?(i(".wapo-plugin .products_id-select2").select2(),i(".wapo-plugin .categories_id-select2").select2(),i(".wapo-plugin .attributes_id-select2").select2(),i(".wapo-plugin .depend-select2").select2()):"function"==typeof i().selectWoo&&(i(".wapo-plugin .products_id-select2").selectWoo(),i(".wapo-plugin .categories_id-select2").selectWoo(),i(".wapo-plugin .attributes_id-select2").selectWoo(),i(".wapo-plugin .depend-select2").selectWoo()),i(".button.delete_group, .button.delete-addon").click(function(t){return 0==window.confirm(yith_wapo_general.confirm_text)?(t.preventDefault(),!1):void i(".type-row form").remove()}),i(".wapo-type-edit").click(function(){i(this).next("form").is(":visible")?i(this).next("form").hide():i(this).next("form").show(),i(this).next("form").find('select[name="type"]').change(),i(this).next("form").find('input[name="required"]').change()}),i(".wapo-new-addon").click(function(){i(this).hide(),i(this).next("form").show()}),i(".wapo-new-addon-cancel").click(function(){i(this).parent("form").hide(),i(this).parent("form").prev(".wapo-new-addon").show()}),i(".button.duplicate-addon").click(function(t){i(".type-row form").remove()}),i("#wapo-types .options table .option-label input").on("change",function(){var t=i(".button.remove-row",i(this).parents("tr"));i(this).val()?t.fadeIn():t.fadeOut()}),i("#wapo-types .options table .button.add_option").click(function(){var e=i(this).closest("table").find("tbody"),o=i(this).parents(".wp-list-table");o.block(t);i.post(yith_wapo_general.ajax_url,{action:"ywcp_add_new_option"},function(t){e.append(t),e.closest("form").find('select[name="type"]').change(),o.unblock()})}),i(".options table").on("click",".button.duplicate-row",function(){var t=i(this).parents("tr"),e=t.clone(),o=e.find('input[name="options[label][]"]').val()+" (copy)";e.find('input[name="options[label][]"]').val(o),t.after(e)}),i(".options table").on("click",".button.remove-row",function(){1==window.confirm(yith_wapo_general.confirm_text)&&i(this).parents("tr").remove()}),i(".type select").on("change",function(){i(this).parents("form").removeClass().addClass(i(this).val()),function(t){{var e;e=t?t.parents(".type-row"):i("body")}var o=t.val();switch(o){case"checkbox":case"color":case"date":case"labels":case"multiple_labels":case"radio":case"file":i("form .option-min input",e).attr("disabled","disabled"),i("form .option-min input",e).val("-"),i("form .option-max input",e).attr("disabled","disabled"),i("form .option-max input",e).val("-");break;default:i("form.number .option-min input",e).removeAttr("disabled"),i("form.number .option-max input",e).removeAttr("disabled"),"-"==i("form.number .option-min input",e).val()&&i("form.number .option-min input",e).val(""),"-"==i("form.number .option-max input",e).val()&&i("form.number .option-max input",e).val(""),i("form.price .option-min input",e).removeAttr("disabled"),i("form.price .option-max input",e).removeAttr("disabled"),"-"==i("form.price .option-min input",e).val()&&i("form.price .option-min input",e).val(""),"-"==i("form.price .option-max input",e).val()&&i("form.price .option-max input",e).val(""),i("form.range .option-min input",e).removeAttr("disabled"),i("form.range .option-max input",e).removeAttr("disabled"),"-"==i("form.range .option-min input",e).val()&&i("form.range .option-min input",e).val(""),"-"==i("form.range .option-max input",e).val()&&i("form.range .option-max input",e).val(""),i("form.textarea .option-min input",e).removeAttr("disabled"),i("form.textarea .option-max input",e).removeAttr("disabled"),"-"==i("form.textarea .option-min input",e).val()&&i("form.textarea .option-min input",e).val(""),"-"==i("form.textarea .option-max input",e).val()&&i("form.textarea .option-max input",e).val("")}"number"==o?(i("form .form-row .calculate_quantity_sum",e).show(),i("form .form-row .max_input_values_amount",e).show(),i("form .form-row .min_input_values_amount",e).show()):(i("form .form-row .calculate_quantity_sum",e).hide(),i('form .form-row .calculate_quantity_sum input[type="checkbox"]',e).removeAttr("checked"),i("form .form-row .max_input_values_amount",e).hide(),i("form .form-row .min_input_values_amount",e).hide())}(i(this))}),i('#wapo-types .required input[name="required"]').on("change",function(){var t=i(this).parents("form").find(".required_all_options"),e=t.find('input[type="checkbox"]');"checked"==i(this).attr("checked")?t.show():(t.hide(),e.attr("checked",!1))}),i('.calculate_quantity_sum > input[type="checkbox"]').on("change",function(){"checked"==i(this).attr("checked")&&i(this).closest("form").find("div.options .option-min input").each(function(){""==i(this).val()&&i(this).val("0")}),s}),i("#wapo-types .sortable").sortable({axis:"y",update:function(t,e){var o="";i(".sortable > li").each(function(t){var e=i('input[name="id"]',this).val();o+=e+",",i('input[name="types-order"]').val(o),0})}}),i("#wapo-types div.options table.yith_wapo_option_table tbody").sortable({axis:"y",helper:e,update:function(t,e){}});var e=function(t,e){return e.children().each(function(){i(this).width(i(this).width())}),e};i(".option-image .opt-image-upload, .image-upload").click(function(t){t.preventDefault();var e=i(this).parent(),o=wp.media({title:yith_wapo_general.uploader_title,button:{text:yith_wapo_general.uploader_button_text},multiple:!1}).on("select",function(){var t=o.state().get("selection").first().toJSON();i(".opt-image, .image",e).attr("src",t.url),i(".opt-image, .image",e).val(t.url),i(".opt-image-alt",e).val(t.alt)}).open()}),i(".option-image .opt-remove, .image .remove").click(function(){var t=i(this).parent();i(".opt-image, .image",t).attr("src",yith_wapo_general.place_holder_url),i(".opt-image, .image",t).val("")}),"function"==typeof tipTip&&i(".woocommerce-help-tip").tipTip({attribute:"data-tip",fadeIn:50,fadeOut:50,delay:200})});